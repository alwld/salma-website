<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Salma üíñ</title>

<!-- IMPORTANT: prevents zoom on input -->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  font-family: 'Poppins', sans-serif;
  background: radial-gradient(circle at top, #ffe6f0, #fff);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* CARDS */
.card {
  background: white;
  padding: 35px 25px;
  border-radius: 30px;
  box-shadow: 0 25px 50px rgba(0,0,0,0.15);
  max-width: 420px;
  width: 90%;
  text-align: center;
  animation: pop 0.6s ease;
}

.hidden { display: none; }

@keyframes pop {
  from { transform: scale(0.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

/* SALMA MAGIC */
.salma {
  position: relative;
  font-weight: 700;
  color: #e63973;
}

.salma::before {
  content: "‚ù§Ô∏è";
  position: absolute;
  top: -20px;
  left: -20px;
  animation: spin 5s linear infinite;
}

.salma::after {
  content: "üêß";
  position: absolute;
  bottom: -20px;
  right: -20px;
}

@keyframes spin {
  from { transform: rotate(0); }
  to { transform: rotate(360deg); }
}

/* BUTTONS */
.buttons {
  margin-top: 25px;
  display: flex;
  gap: 15px;
  justify-content: center;
}

button {
  padding: 12px 26px;
  border: none;
  border-radius: 30px;
  font-size: 1rem;
  cursor: pointer;
}

.yes {
  background: linear-gradient(135deg, #ff5fa2, #ff85b8);
  color: white;
}

.no {
  background: #eee;
  color: #555;
}

/* INPUT */
input {
  width: 100%;
  padding: 14px;
  border-radius: 20px;
  border: 1px solid #ddd;
  font-size: 16px; /* critical for no zoom */
  outline: none;
  text-align: center;
}

/* BACK BUTTON */
.back {
  position: fixed;
  top: 15px;
  left: 15px;
  background: white;
  border-radius: 50%;
  width: 42px;
  height: 42px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  cursor: pointer;
  z-index: 100;
}

/* TOUCH HEARTS */
.heart {
  position: absolute;
  font-size: 24px;
  pointer-events: none;
  animation: explode 1s ease forwards;
}

@keyframes explode {
  from { transform: scale(0.5); opacity: 1; }
  to {
    transform: translate(var(--x), var(--y)) scale(1.3);
    opacity: 0;
  }
}

/* MUSIC BUTTON */
.music {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: white;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  cursor: pointer;
}
</style>
</head>

<body>

<div class="back hidden" id="backBtn" onclick="goBack()">‚¨ÖÔ∏è</div>

<div class="music" onclick="toggleMusic()">üé∂</div>

<!-- PASSWORD -->
<div class="card" id="lock">
  <h2>üîí Only <span class="salma">Salma</span></h2>
  <input id="pass" type="password" placeholder="Enter password">
  <br><br>
  <button class="yes" onclick="unlock()">Enter üíñ</button>
</div>

<!-- HOME -->
<div class="card hidden" id="home">
  <h1>Do you wanna know what I think about you, <span class="salma">Salma</span>?</h1>
  <div class="buttons">
    <button class="yes" onclick="showYes()">Yes üíï</button>
    <button class="no" onclick="showNo()">No üôà</button>
  </div>
</div>

<!-- YES -->
<div class="card hidden" id="yesPage">
  <div id="compliment"></div>
  <br>
  <button class="yes" onclick="newCompliment()">Another üíó</button>
</div>

<!-- NO -->
<div class="card hidden" id="noPage">
  <p>Even if you said no‚Ä¶ my heart still chose you üòå</p>
  <button class="yes" onclick="showYes()">Okay‚Ä¶ tell me üíñ</button>
</div>

<audio id="music" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_3c6c9c5f57.mp3" type="audio/mpeg">
</audio>

<script>
const compliments = [
  "Salma üíó you make the world feel softer.",
  "You‚Äôre calm, rare, and beautiful Salma üêß‚ù§Ô∏è",
  "Every thought of you feels warm üòå",
  "Salma‚Ä¶ you‚Äôre effortlessly special üíò"
];

let history = [];
const music = document.getElementById("music");

function vibrate(pattern=[20]) {
  if (navigator.vibrate) navigator.vibrate(pattern);
}

function unlock() {
  if (pass.value.toLowerCase() === "salma") {
    lock.classList.add("hidden");
    home.classList.remove("hidden");
    backBtn.classList.remove("hidden");
    vibrate([30,20,30]);
  } else {
    vibrate([100]);
  }
}

function showYes() {
  saveState();
  home.classList.add("hidden");
  noPage.classList.add("hidden");
  yesPage.classList.remove("hidden");
  newCompliment();
  vibrate([20,10,20]);
}

function showNo() {
  saveState();
  home.classList.add("hidden");
  yesPage.classList.add("hidden");
  noPage.classList.remove("hidden");
  vibrate([40]);
}

function newCompliment() {
  compliment.innerText = compliments[Math.floor(Math.random()*compliments.length)];
  vibrate([15,10,15]);
}

function saveState() {
  history.push(document.querySelector(".card:not(.hidden)").id);
}

function goBack() {
  const prev = history.pop();
  if (!prev) return;
  document.querySelectorAll(".card").forEach(c=>c.classList.add("hidden"));
  document.getElementById(prev).classList.remove("hidden");
  vibrate([20]);
}

function toggleMusic() {
  if (music.paused) music.play();
  else music.pause();
  vibrate([10]);
}

/* HEARTS ON TOUCH */
document.addEventListener("touchstart", e => {
  const t = e.touches[0];
  for (let i=0;i<6;i++) {
    const h = document.createElement("div");
    h.className="heart";
    h.innerText="‚ù§Ô∏è";
    h.style.left=t.clientX+"px";
    h.style.top=t.clientY+"px";
    h.style.setProperty("--x",(Math.random()*200-100)+"px");
    h.style.setProperty("--y",(Math.random()*200-100)+"px");
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),1000);
  }
});
</script>

</body>
</html>
